
[1m[46m RUN [49m[22m [36mv4.0.10 [39m[90m/home/runner/workspace[39m

[90mstdout[2m | client/src/__tests__/accessibility.test.ts
[22m[39mTest environment initialized

[90mstdout[2m | server/__tests__/api.integration.test.ts
[22m[39mTest environment initialized

[90mstdout[2m | client/src/__tests__/accessibility.test.ts
[22m[39mTest environment cleaned up

 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mWCAG Compliance Checks[2m > [22mshould document color contrast requirements[32m 2[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mWCAG Compliance Checks[2m > [22mshould document heading hierarchy requirement[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mWCAG Compliance Checks[2m > [22mshould document keyboard navigation requirement[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mWCAG Compliance Checks[2m > [22mshould document focus indicators requirement[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mWCAG Compliance Checks[2m > [22mshould document form label requirement[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mScreen Reader Compatibility[2m > [22mshould document ARIA attributes usage[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mScreen Reader Compatibility[2m > [22mshould document semantic HTML requirement[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mScreen Reader Compatibility[2m > [22mshould document alt text requirement for images[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mResponsive Design[2m > [22mshould document mobile viewport requirements[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mResponsive Design[2m > [22mshould document tablet viewport requirements[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mResponsive Design[2m > [22mshould document desktop requirements[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mForm Usability[2m > [22mshould document error message requirements[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mForm Usability[2m > [22mshould document input validation feedback[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mForm Usability[2m > [22mshould document autocomplete attributes[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mLoading States & Feedback[2m > [22mshould document loading indicator requirements[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mLoading States & Feedback[2m > [22mshould document success/error feedback[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mNavigation Usability[2m > [22mshould document breadcrumb/back navigation[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mNavigation Usability[2m > [22mshould document search and filter usability[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mData Table Accessibility[2m > [22mshould document table header requirements[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mData Table Accessibility[2m > [22mshould document empty state messaging[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mBrowser Compatibility Matrix[2m > [22mshould document supported browsers[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mBrowser Compatibility Matrix[2m > [22mshould document CSS feature compatibility[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mBrowser Compatibility Matrix[2m > [22mshould document JavaScript feature requirements[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mPerformance & UX[2m > [22mshould document page load performance targets[32m 0[2mms[22m[39m
 [32mâœ“[39m client/src/__tests__/accessibility.test.ts[2m > [22mAccessibility & Usability Tests[2m > [22mPerformance & UX[2m > [22mshould document interaction responsiveness[32m 0[2mms[22m[39m
[90mstdout[2m | server/__tests__/security.test.ts
[22m[39mTest environment initialized

 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mAuthentication Security[2m > [22mshould reject requests without authentication token[32m 93[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mAuthentication Security[2m > [22mshould reject malformed JWT tokens[32m 33[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mAuthentication Security[2m > [22mshould not accept expired tokens[32m 12[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mAuthentication Security[2m > [22mshould not expose password in API responses[33m 797[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mAuthentication Endpoints[2m > [22mPOST /api/auth/login - should authenticate with valid credentials[32m 208[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mAuthentication Security[2m > [22mshould hash passwords (not stored in plain text)[32m 194[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mAuthentication Endpoints[2m > [22mPOST /api/auth/login - should reject invalid credentials[32m 205[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mAuthorization Security[2m > [22mshould prevent students from creating events[32m 250[2mms[22m[39m
[90mstdout[2m | server/__tests__/performance.test.ts
[22m[39mTest environment initialized

 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mAuthentication Endpoints[2m > [22mPOST /api/auth/login - should reject non-existent user[32m 119[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mAuthentication Endpoints[2m > [22mPOST /api/auth/login - should validate required fields[32m 4[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mEvent Endpoints[2m > [22mGET /api/events - should return list of events[33m 317[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mAuthorization Security[2m > [22mshould prevent staff from accessing another staff member's events[33m 344[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mResponse Time Benchmarks[2m > [22mGET /api/events should respond within 500ms[33m 456[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mResponse Time Benchmarks[2m > [22mGET /api/health should respond within 200ms[32m 43[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mResponse Time Benchmarks[2m > [22mPOST /api/auth/login should respond within 1000ms[32m 125[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mEvent Endpoints[2m > [22mGET /api/events/:id - should return single event[33m 572[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mAuthorization Security[2m > [22mshould prevent students from exporting attendee data[33m 852[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mEvent Endpoints[2m > [22mGET /api/events/:id - should return 404 for non-existent event[33m 396[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mConcurrent Request Handling[2m > [22mshould handle 10 concurrent event list requests[33m 866[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mEvent Endpoints[2m > [22mPOST /api/events - should allow staff to create event[32m 289[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mInput Validation & Injection Prevention[2m > [22mshould reject SQL injection attempts in login[33m 869[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mEvent Endpoints[2m > [22mPOST /api/events - should reject student creating event[32m 55[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mBooking Endpoints[2m > [22mGET /api/bookings/user - should require authentication[32m 6[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mBooking Endpoints[2m > [22mGET /api/bookings/user - should return user bookings[33m 522[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mBooking Endpoints[2m > [22mPOST /api/bookings - should require authentication[32m 13[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mHealth Endpoint[2m > [22mGET /api/health - should return health status[32m 289[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mConcurrent Request Handling[2m > [22mshould handle 20 concurrent health checks[32m 86[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mConcurrent Request Handling[2m > [22mshould handle mixed concurrent requests[33m 985[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mHealth Endpoint[2m > [22mGET /api/health - should include system information[32m 188[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mError Handling[2m > [22mshould handle malformed JSON gracefully[32m 8[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mError Handling[2m > [22mshould handle missing Content-Type header[32m 6[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mInput Validation & Injection Prevention[2m > [22mshould reject XSS attempts in event creation[33m 702[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mError Handling[2m > [22mshould handle invalid Authorization header format[32m 106[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mError Handling[2m > [22mshould handle expired/invalid JWT tokens[32m 5[2mms[22m[39m
 [32mâœ“[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mResponse Headers[2m > [22mshould include proper Content-Type headers[32m 298[2mms[22m[39m
 [31mÃ—[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mInput Validation & Injection Prevention[2m > [22mshould validate capacity is a positive integer[33m 329[2mms[22m[39m
[31m   â†’ expected 201 to be greater than or equal to 400[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mConcurrent Booking Simulation[2m > [22mshould handle race condition for last event slot[33m 660[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mInput Validation & Injection Prevention[2m > [22mshould validate required fields are present[32m 213[2mms[22m[39m
[90mstdout[2m | server/__tests__/api.integration.test.ts
[22m[39mTest environment cleaned up

 [31mÃ—[39m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mResponse Headers[2m > [22mshould not expose sensitive server information[32m 269[2mms[22m[39m
[31m   â†’ expected 'Express' not to contain 'Express'[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mSession Management[2m > [22mshould require new login after logout (if logout implemented)[32m 276[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mLarge Dataset Performance[2m > [22mshould efficiently handle event listing with statistics[32m 294[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mSession Management[2m > [22mshould generate unique tokens for each login[32m 257[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mData Protection[2m > [22mshould not leak sensitive information in error messages[32m 26[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mData Protection[2m > [22mshould not expose internal server paths in errors[32m 27[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mData Protection[2m > [22mshould enforce HTTPS in production (headers check)[32m 26[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mRate Limiting & DoS Prevention[2m > [22mshould handle rapid repeated requests[32m 199[2mms[22m[39m
[90mstdout[2m | server/__tests__/security.test.ts
[22m[39mTest environment cleaned up

 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mRate Limiting & DoS Prevention[2m > [22mshould handle large payload gracefully[32m 32[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mCross-Site Request Forgery (CSRF) Protection[2m > [22mshould validate content-type header for POST requests[32m 4[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mInformation Disclosure[2m > [22mshould not reveal database errors to client[32m 26[2mms[22m[39m
 [32mâœ“[39m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mInformation Disclosure[2m > [22mshould not expose stack traces in production[32m 26[2mms[22m[39m
[90mstdout[2m | server/__tests__/booking.logic.test.ts
[22m[39mTest environment initialized

[90mstdout[2m | server/__tests__/booking.logic.test.ts
[22m[39mTest environment cleaned up

 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateEffectiveCapacity[2m > [22mshould return base capacity when overbooking is disabled[32m 1[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateEffectiveCapacity[2m > [22mshould return +5% capacity when overbooking is enabled[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateEffectiveCapacity[2m > [22mshould handle edge cases correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateEffectiveCapacity[2m > [22mshould never reduce capacity with overbooking[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mdetermineBookingStatus[2m > [22mshould assign confirmed status when slots are available[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mdetermineBookingStatus[2m > [22mshould assign waitlisted status when at capacity[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mdetermineBookingStatus[2m > [22mshould handle boundary conditions correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mdetermineBookingStatus[2m > [22mshould work with zero capacity events[32m 1[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateRemainingSlots[2m > [22mshould calculate correct remaining slots[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateRemainingSlots[2m > [22mshould never return negative slots[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateRemainingSlots[2m > [22mshould work with overbooking scenarios[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould return oldest waitlisted booking[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould return null when no waitlisted bookings exist[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould return null for empty booking list[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould handle multiple waitlisted bookings correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould maintain FIFO order for simultaneous waitlist additions[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mDepartment Validation Logic[2m > [22mshould allow booking when departments match[32m 2[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mDepartment Validation Logic[2m > [22mshould block booking when departments do not match[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mDepartment Validation Logic[2m > [22mshould be case-sensitive[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mDepartment Validation Logic[2m > [22mshould handle empty department strings[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventCapacity[2m > [22mshould accept valid capacity values[32m 1[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventCapacity[2m > [22mshould reject zero or negative capacity[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventCapacity[2m > [22mshould reject capacity exceeding maximum[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventCapacity[2m > [22mshould reject non-integer capacity[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventType[2m > [22mshould accept valid event types[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventType[2m > [22mshould reject invalid event types[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventType[2m > [22mshould be case-sensitive[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateBookingStatus[2m > [22mshould accept valid booking statuses[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateBookingStatus[2m > [22mshould reject invalid statuses[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mConcurrent Booking Logic[2m > [22mhandleConcurrentBookings[2m > [22mshould handle race condition for last slot[32m 1[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mConcurrent Booking Logic[2m > [22mhandleConcurrentBookings[2m > [22mshould correctly transition from last slot to waitlist[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mMemory and Resource Usage[2m > [22mshould not cause memory leaks with repeated requests[33m 1506[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mDatabase Query Performance[2m > [22mshould efficiently query events with joins[32m 146[2mms[22m[39m
 [32mâœ“[39m server/__tests__/performance.test.ts[2m > [22mPerformance Tests[2m > [22mCSV Export Performance[2m > [22mshould generate CSV export within acceptable time[33m 319[2mms[22m[39m
[90mstdout[2m | server/__tests__/performance.test.ts
[22m[39mTest environment cleaned up


[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 2 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m server/__tests__/api.integration.test.ts[2m > [22mAPI Integration Tests[2m > [22mResponse Headers[2m > [22mshould not expose sensitive server information
[31m[1mAssertionError[22m: expected 'Express' not to contain 'Express'[39m
[36m [2mâ¯[22m server/__tests__/api.integration.test.ts:[2m291:32[22m[39m
    [90m289| [39m      [90m// Note: This is informational, not a hard requirement[39m
    [90m290| [39m      [35mif[39m (xPoweredBy) {
    [90m291| [39m        [34mexpect[39m(xPoweredBy)[33m.[39mnot[33m.[39m[34mtoContain[39m([32m'Express'[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m292| [39m      }
    [90m293| [39m    })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/2]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m server/__tests__/security.test.ts[2m > [22mSecurity Tests[2m > [22mInput Validation & Injection Prevention[2m > [22mshould validate capacity is a positive integer
[31m[1mAssertionError[22m: expected 201 to be greater than or equal to 400[39m
[36m [2mâ¯[22m server/__tests__/security.test.ts:[2m256:33[22m[39m
    [90m254| [39m
    [90m255| [39m        [90m// Should reject invalid capacity[39m
    [90m256| [39m        [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBeGreaterThanOrEqual[39m([34m400[39m)[33m;[39m
    [90m   | [39m                                [31m^[39m
    [90m257| [39m      }
    [90m258| [39m    })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/2]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m3 passed[39m[22m[90m (5)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m107 passed[39m[22m[90m (109)[39m
[2m   Start at [22m 17:45:57
[2m   Duration [22m 8.73s[2m (transform 269ms, setup 149ms, collect 293ms, tests 20.89s, environment 1ms, prepare 172ms)[22m


[1m[46m RUN [49m[22m [36mv4.0.10 [39m[90m/home/runner/workspace[39m

[90mstdout[2m | server/__tests__/booking.logic.test.ts
[22m[39mTest environment initialized

[90mstdout[2m | server/__tests__/booking.logic.test.ts
[22m[39mTest environment cleaned up

 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateEffectiveCapacity[2m > [22mshould return base capacity when overbooking is disabled[32m 2[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateEffectiveCapacity[2m > [22mshould return +5% capacity when overbooking is enabled[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateEffectiveCapacity[2m > [22mshould handle edge cases correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateEffectiveCapacity[2m > [22mshould never reduce capacity with overbooking[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mdetermineBookingStatus[2m > [22mshould assign confirmed status when slots are available[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mdetermineBookingStatus[2m > [22mshould assign waitlisted status when at capacity[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mdetermineBookingStatus[2m > [22mshould handle boundary conditions correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mdetermineBookingStatus[2m > [22mshould work with zero capacity events[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateRemainingSlots[2m > [22mshould calculate correct remaining slots[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateRemainingSlots[2m > [22mshould never return negative slots[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mBooking Capacity Logic[2m > [22mcalculateRemainingSlots[2m > [22mshould work with overbooking scenarios[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould return oldest waitlisted booking[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould return null when no waitlisted bookings exist[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould return null for empty booking list[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould handle multiple waitlisted bookings correctly[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mWaitlist Promotion Logic[2m > [22mshould maintain FIFO order for simultaneous waitlist additions[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mDepartment Validation Logic[2m > [22mshould allow booking when departments match[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mDepartment Validation Logic[2m > [22mshould block booking when departments do not match[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mDepartment Validation Logic[2m > [22mshould be case-sensitive[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mDepartment Validation Logic[2m > [22mshould handle empty department strings[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventCapacity[2m > [22mshould accept valid capacity values[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventCapacity[2m > [22mshould reject zero or negative capacity[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventCapacity[2m > [22mshould reject capacity exceeding maximum[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventCapacity[2m > [22mshould reject non-integer capacity[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventType[2m > [22mshould accept valid event types[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventType[2m > [22mshould reject invalid event types[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateEventType[2m > [22mshould be case-sensitive[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateBookingStatus[2m > [22mshould accept valid booking statuses[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mInput Validation Logic[2m > [22mvalidateBookingStatus[2m > [22mshould reject invalid statuses[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mConcurrent Booking Logic[2m > [22mhandleConcurrentBookings[2m > [22mshould handle race condition for last slot[32m 0[2mms[22m[39m
 [32mâœ“[39m server/__tests__/booking.logic.test.ts[2m > [22mConcurrent Booking Logic[2m > [22mhandleConcurrentBookings[2m > [22mshould correctly transition from last slot to waitlist[32m 0[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m31 passed[39m[22m[90m (31)[39m
[2m   Start at [22m 17:46:28
[2m   Duration [22m 1.65s[2m (transform 189ms, setup 101ms, collect 122ms, tests 1.02s, environment 0ms, prepare 39ms)[22m

